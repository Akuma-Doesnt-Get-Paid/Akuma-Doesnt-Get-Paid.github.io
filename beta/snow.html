
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Optimized Snowfall Effect</title>
  <style>
    /* Fullscreen gradient background */
    body {
      margin: 0;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      background: linear-gradient(145deg, #0f2027, #203a43, #2c5364);
      position: relative;
    }

    /* Snowflake styling */
    .snowflake {
      position: absolute;
      width: 0.4vw;
      height: 0.4vw;
      background: rgba(255, 255, 255, 0.85);
      border-radius: 50%;
      top: -5vh; /* Start above the viewport */
      opacity: 0.9;
    }
  </style>
</head>
<body>
  <script>
    const numberOfSnowflakes = 50; // Reduced number of snowflakes
    const snowflakes = [];

    // Create snowflakes
    for (let i = 0; i < numberOfSnowflakes; i++) {
      const snowflake = document.createElement('div');
      snowflake.classList.add('snowflake');
      
      // Randomize starting position
      snowflake.style.left = `${Math.random() * 100}vw`;
      snowflake.style.animationDuration = `${8 + Math.random() * 4}s`;
      
      document.body.appendChild(snowflake);
      snowflakes.push({
        element: snowflake,
        speed: Math.random() * 0.5 + 0.5, // Random speed for each snowflake
        wind: (Math.random() * 2 - 1) // Random wind direction
      });
    }

    function animateSnowflakes() {
      snowflakes.forEach(snowflake => {
        const { element, speed, wind } = snowflake;

        // Move snowflake down
        const currentTop = parseFloat(getComputedStyle(element).top);
        const newTop = currentTop + speed; // Move down by speed

        // Reset snowflake position if it goes off the bottom
        if (newTop > window.innerHeight) {
          element.style.top = `-5vh`;
          element.style.left = `${Math.random() * 100}vw`;
        } else {
          element.style.top = `${newTop}px`;
          // Adjust for wind
          const currentLeft = parseFloat(getComputedStyle(element).left);
          element.style.left = `${currentLeft + wind}px`;
          
          // Reset horizontal position if it goes off the sides
          if (currentLeft + wind < -5 || currentLeft + wind > window.innerWidth) {
            snowflake.wind = -wind; // Reverse wind direction
          }
        }
      });
      requestAnimationFrame(animateSnowflakes); // Call the animation function again
    }

    animateSnowflakes(); // Start the animation
  </script>
</body>
</html>
